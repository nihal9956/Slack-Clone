(this.webpackJsonpslack=this.webpackJsonpslack||[]).push([[0],{101:function(e,a,t){},102:function(e,a,t){},103:function(e,a,t){},104:function(e,a,t){},105:function(e,a,t){},106:function(e,a,t){},107:function(e,a,t){},108:function(e,a,t){"use strict";t.r(a);var n=t(0),c=t.n(n),l=t(23),o=t.n(l),r=(t(78),t(79),t(52)),i=t.n(r),s=t(54),m=t.n(s),u=t(53),d=t.n(u),E=t(122),p=t(15);var h=function(){var e=Object(p.c)((function(e){return e.user}));return c.a.createElement("div",{className:"header"},c.a.createElement("div",{className:"header-left"},c.a.createElement(E.a,{alt:null===e||void 0===e?void 0:e.displayName,src:null===e||void 0===e?void 0:e.photoURL}),c.a.createElement(i.a,null)),c.a.createElement("div",{className:"header-center"},c.a.createElement(d.a,null),c.a.createElement("input",{type:"text",placeholder:"Search room name"})),c.a.createElement("div",{className:"header-left"},c.a.createElement(m.a,null)))},v=t(21),f=(t(85),t(86),t(5)),g=t(56),b=t.n(g),N=t(57),S=t.n(N),_=t(29),O=t.n(_),k=O.a.initializeApp({apiKey:"AIzaSyA65zvGEiwUFghOLoRmxvvX4qXUuQT_SF4",authDomain:"slack-24fec.firebaseapp.com",databaseURL:"https://slack-24fec.firebaseio.com",projectId:"slack-24fec",storageBucket:"slack-24fec.appspot.com",messagingSenderId:"825428536127",appId:"1:825428536127:web:299f81307b7b8c8fdb418a",measurementId:"G-HY5CK20DWE"}).firestore(),j=O.a.auth(),w=new O.a.auth.GoogleAuthProvider,I=k,y=(t(97),t(98),t(55)),T=t.n(y),C=t(121);var L=function(e){e.channelName;var a=e.channelId,t=Object(n.useState)(""),l=Object(v.a)(t,2),o=l[0],r=l[1],i=Object(p.c)((function(e){return e.user}));return c.a.createElement("div",{className:"chat__input"},c.a.createElement("input",{value:o,onChange:function(e){return r(e.target.value)},placeholder:"Type a message"}),c.a.createElement(C.a,{type:"submit",onClick:function(e){e.preventDefault(),r(""),a&&I.collection("rooms").doc(a).collection("Messages").add({message:o,timestamp:O.a.firestore.FieldValue.serverTimestamp(),user:i.displayName,avatar:i.photoURL})},className:"button"},c.a.createElement(T.a,{className:"btn"})))};t(99);var R=function(e){var a=e.message,t=e.timestamp,n=e.user,l=e.avatar;return c.a.createElement("div",{className:"message"},c.a.createElement("img",{src:l,alt:"Dp"}),c.a.createElement("div",{className:"message__info"},c.a.createElement("h4",null,n," ",c.a.createElement("span",{className:"message__timeStamp"},new Date(null===t||void 0===t?void 0:t.toDate()).toLocaleString())),c.a.createElement("p",null,a)))};var U=function(){var e=Object(f.g)().roomId,a=Object(n.useState)(null),t=Object(v.a)(a,2),l=t[0],o=t[1],r=Object(n.useState)([]),i=Object(v.a)(r,2),s=i[0],m=i[1];return Object(n.useEffect)((function(){I.collection("rooms").doc(e).onSnapshot((function(e){o(e.data())})),I.collection("rooms").doc(e).collection("Messages").orderBy("timestamp","asc").onSnapshot((function(e){m(e.docs.map((function(e){return e.data()})))}))}),[e]),console.log(s),c.a.createElement("div",{className:"chat"},c.a.createElement("div",{className:"chat__header"},c.a.createElement("div",{className:"chat__headerLeft"},c.a.createElement("h4",{className:"chat__channelName"},c.a.createElement("strong",null,null===l||void 0===l?void 0:l.name),c.a.createElement(b.a,null))),c.a.createElement("div",{className:"chat__headerRight"},c.a.createElement("p",null,c.a.createElement(S.a,null)," Detailes"))),c.a.createElement("div",{className:"chat__messages"},s.map((function(e){var a=e.user,t=e.avatar,n=e.message,l=e.timestamp;return c.a.createElement(R,{message:n,timestamp:l,user:a,avatar:t})}))),c.a.createElement(L,{channelName:null===l||void 0===l?void 0:l.name,channelId:e}))},D=(t(101),t(102),t(58)),W=t.n(D),x=t(59),A=t.n(x);t(103),t(104);var B=function(e){var a=e.Icon,t=e.addChannelOption,n=e.id,l=e.title,o=Object(f.f)();return c.a.createElement("div",{className:"SidebarOptions",onClick:t?function(){var e=prompt("please enter Channel Name");e&&I.collection("rooms").add({name:e})}:function(){n?o.push("/room/".concat(n)):o.push(l)}},a&&c.a.createElement(a,{className:"SidebarOptions-icon"}),a?c.a.createElement("h3",null,l):c.a.createElement("h3",{className:"SidebarOptions-channel"},c.a.createElement("span",{className:"SidebarOptions-hastag"},"#")," ",l))},F=t(61),G=t.n(F),M=t(62),z=t.n(M),P=t(63),H=t.n(P),J=t(64),K=t.n(J),Q=t(65),X=t.n(Q),q=t(66),V=t.n(q),Y=t(67),$=t.n(Y),Z=t(60),ee=t.n(Z),ae=t(68),te=t.n(ae),ne=t(69),ce=t.n(ne);var le=function(){var e=Object(n.useState)([]),a=Object(v.a)(e,2),t=a[0],l=a[1],o=Object(p.c)((function(e){return e.user}));return Object(n.useEffect)((function(){I.collection("rooms").onSnapshot((function(e){l(e.docs.map((function(e){return{id:e.id,name:e.data().name}})))}))}),[]),c.a.createElement("div",{className:"sidebar"},c.a.createElement("div",{className:"sidebar-header"},c.a.createElement("div",{className:"sidebar-info"},c.a.createElement("h2",null,null===o||void 0===o?void 0:o.email),c.a.createElement("h3",null,c.a.createElement(W.a,null),null===o||void 0===o?void 0:o.displayName)),c.a.createElement(A.a,null)),c.a.createElement(B,{Icon:ee.a,title:"Threads"}),c.a.createElement(B,{Icon:G.a,title:"Mentions & reactions"}),c.a.createElement(B,{Icon:z.a,title:"Svaed items"}),c.a.createElement(B,{Icon:H.a,title:"Channel browser"}),c.a.createElement(B,{Icon:K.a,title:"People & user groups"}),c.a.createElement(B,{Icon:X.a,title:"Apps"}),c.a.createElement(B,{Icon:V.a,title:"File browser"}),c.a.createElement(B,{Icon:$.a,title:"Show less"}),c.a.createElement("hr",null),c.a.createElement(B,{Icon:te.a,title:"Show more"}),c.a.createElement("hr",null),c.a.createElement(B,{Icon:ce.a,addChannelOption:!0,title:"Channels"}),t.map((function(e){return c.a.createElement(B,{title:e.name,id:e.id})})))},oe=(t(105),t(106),t(36)),re=t(40);t(107);var ie=function(){var e=Object(p.b)();return c.a.createElement("div",{className:"login"},c.a.createElement("div",{className:"login__container"},c.a.createElement("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/b/b9/Slack_Technologies_Logo.svg/1024px-Slack_Technologies_Logo.svg.png",alt:"logo"}),c.a.createElement("h1",null,"Sign in to Slack HQ"),c.a.createElement("p",null,"nihaltiwari.slack.com"),c.a.createElement("button",{onClick:function(){j.signInWithPopup(w).then((function(a){console.log(a),e({type:re.SET_USER,user:a.user})})).catch((function(e){alert(e.message)}))}},"Sign In with Google")))};var se=function(){var e=Object(p.c)((function(e){return e.user}));return c.a.createElement("div",{className:"app"},e?c.a.createElement(oe.a,null,c.a.createElement(h,null),c.a.createElement("div",{className:"app-body"},c.a.createElement(le,null),c.a.createElement(f.c,null,c.a.createElement(f.a,{path:"/room/:roomId"},c.a.createElement(U,null)),c.a.createElement(f.a,{path:"/"},c.a.createElement("div",{className:"Welcome__Note"},c.a.createElement("h1",null,"Welcome To Slack ")," ",c.a.createElement("span",{className:"logo"}," ",c.a.createElement("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/b/b9/Slack_Technologies_Logo.svg/1024px-Slack_Technologies_Logo.svg.png",alt:"logo"})),c.a.createElement("p",null,"Create a new Channel or join one.")))))):c.a.createElement(ie,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var me=t(37),ue=t(39),de=t(40).SET_USER,Ee={user:null},pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee,a=arguments.length>1?arguments[1]:void 0;return a.type===de?Object(ue.a)(Object(ue.a)({},e),{},{user:a.user}):Object(ue.a)({},e)},he=Object(me.b)(pe);o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(p.a,{store:he},c.a.createElement(se,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},40:function(e,a,t){"use strict";t.r(a),t.d(a,"SET_USER",(function(){return n}));var n="SET_USER"},73:function(e,a,t){e.exports=t(108)},78:function(e,a,t){},79:function(e,a,t){},85:function(e,a,t){},86:function(e,a,t){},97:function(e,a,t){},98:function(e,a,t){},99:function(e,a,t){}},[[73,1,2]]]);
//# sourceMappingURL=main.322cd2f4.chunk.js.map